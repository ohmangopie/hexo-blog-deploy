<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Windows 搭建 Java 开发环境</title>
    <link href="/2024/09/09/Java%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/"/>
    <url>/2024/09/09/Java%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<p>从零开始安装Java开发环境</p><h2 id="安装清单"><a href="#安装清单" class="headerlink" title="安装清单"></a>安装清单</h2><h3 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h3><ul><li>JDK</li><li>Maven</li><li>Node.js</li><li>MySQL</li><li>Redis</li><li>Git</li></ul><h3 id="开发工具"><a href="#开发工具" class="headerlink" title="开发工具"></a>开发工具</h3><ul><li>IDEA：<a href="https://www.jetbrains.com/zh-cn/idea/download/">官网</a></li><li>WebStorm：<a href="https://www.jetbrains.com/zh-cn/webstorm/download/">官网</a></li><li>Navicat：<a href="https://www.navicat.com.cn/download/navicat-premium">官网</a></li><li>Redis Insight：<a href="https://redis.io/insight/">官网</a></li><li>Postman：<a href="https://www.postman.com/">官网</a></li><li>MobaXterm：<a href="https://mobaxterm.mobatek.net/">官网</a></li><li>WinSCP：<a href="https://winscp.net/eng/docs/lang:chs">官网</a></li></ul><h3 id="实用工具"><a href="#实用工具" class="headerlink" title="实用工具"></a>实用工具</h3><ul><li>7-Zip：<a href="https://www.7-zip.org/">官网</a></li><li>Notepad++：<a href="https://github.com/notepad-plus-plus/notepad-plus-plus">官网</a></li><li>Sublime Text：<a href="https://www.sublimetext.com/">官网</a></li><li>Typora：<a href="https://typora.io/">官网</a></li><li>Beyond Compare：<a href="https://www.scootersoftware.com/">官网</a></li><li>ngrok：<a href="https://ngrok.com/">官网</a></li></ul><h2 id="安装教程"><a href="#安装教程" class="headerlink" title="安装教程"></a>安装教程</h2><h3 id="JDK"><a href="#JDK" class="headerlink" title="JDK"></a>JDK</h3><p>鉴于不同项目需要使用不同版本的JDK，下面介绍多版本共存JDK的安装方法。</p><h4 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h4><p>官网下载：<a href="https://www.oracle.com/cn/java/technologies/downloads/">Java Downloads | Oracle 中国</a></p><blockquote><p>官网下载需要注册账号，可以使用临时邮箱注册</p></blockquote><p>进入官网后选择对应的版本、系统、安装包，进行下载，点击<a href="https://www.oracle.com/cn/java/technologies/downloads/archive/">Java archive</a>可以下载历史版本。</p><p>下载JDK8，例：<a href="https://download.oracle.com/otn/java/jdk/8u421-b09/d8aa705069af427f9b83e66b34f5e380/jdk-8u421-windows-x64.exe?AuthParam=1724834081_569ac68384465ee46f8ee901f7706ebf">jdk-8u421-windows-x64.exe</a></p><p>下载JDK17，例：<a href="https://download.oracle.com/java/17/archive/jdk-17.0.12_windows-x64_bin.exe">jdk-17.0.12_windows-x64_bin.exe</a></p><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>双击运行JDK8安装包安装</p><p>修改JDK安装目录，<code>D:\Program Files\Java\jdk-1.8.0_421</code></p><p>修改JRE安装目录，<code>D:\Program Files\Java\jre-1.8.0_421</code></p><p>双击运行JDK17安装包安装</p><p>与JDK8安装步骤类似，不同之处是JDK17没有JRE安装步骤。</p><p>修改JDK安装目录，<code>D:\Program Files\Java\jdk-17.0.12</code></p><h4 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h4><p>在Windows搜索框中搜索<code>系统环境变量</code>，进入<code>系统属性</code>设置</p><p>在<code>系统属性-高级</code>设置中点击<code>环境变量</code>打开环境变量配置界面</p><p>点击<code>系统变量</code>下方的<code>新建</code>按钮</p><p>依次添加如下环境变量（变量值修改为实际安装路径）：</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs txt">变量名：JAVA_HOME_8<br>变量值：D:\Program Files\Java\jdk-1.8.0_421<br></code></pre></td></tr></table></figure><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs txt">变量名：JAVA_HOME_17<br>变量值：D:\Program Files\Java\jdk-17.0.12<br></code></pre></td></tr></table></figure><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs txt">变量名：JAVA_HOME<br>变量值：%JAVA_HOME_8%<br></code></pre></td></tr></table></figure><p>选中<code>系统变量</code>中的<code>Path</code>变量，点击<code>编辑</code>按钮编辑环境变量</p><p>点击<code>新建</code>按钮，新增<code>%JAVA_HOME%\bin</code>变量，并将其移动到最上方</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs txt">%JAVA_HOME%\bin<br></code></pre></td></tr></table></figure><p>必须将<code>%JAVA_HOME%\bin</code>变量移动到最上面，否则优先级不够，修改版本时不会生效，保证在下面几个变量之前。</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs txt">C:\Program Files\Common Files\Oracle\Java\javapath<br>C:\Program Files (x86)\Common Files\Oracle\Java\java8path<br>C:\Program Files (x86)\Common Files\Oracle\Java\javapath<br></code></pre></td></tr></table></figure><p>运行<code>java -version</code>命令查看JDK版本</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">java -version<br></code></pre></td></tr></table></figure><h4 id="切换JDK版本"><a href="#切换JDK版本" class="headerlink" title="切换JDK版本"></a>切换JDK版本</h4><p>切换JDK版本时只需修改<code>JAVA_HOME</code>的变量值即可</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs txt"># 切换JDK8时，修改JAVA_HOME变量值为<br>%JAVA_HOME_8%<br># 切换JDK17时，修改JAVAJ_HOME变量值为<br>%JAVA_HOME_17%<br></code></pre></td></tr></table></figure><h3 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h3><h4 id="下载-1"><a href="#下载-1" class="headerlink" title="下载"></a>下载</h4><p>官网下载：<a href="https://maven.apache.org/download.cgi">Maven – Download Apache Maven</a></p><p>选择对应版本的ZIP文件下载，例：<a href="https://dlcdn.apache.org/maven/maven-3/3.8.8/binaries/apache-maven-3.8.8-bin.zip">apache-maven-3.8.8-bin.zip</a></p><h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h4><p>解压文件到自定义目录，例：D:\Portable Files\apache-maven-3.8.8</p><h4 id="配置环境变量-1"><a href="#配置环境变量-1" class="headerlink" title="配置环境变量"></a>配置环境变量</h4><p><code>系统变量</code>新建<code>MAVEN_HOME</code></p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs txt">变量名：MAVEN_HOME<br>变量值：D:\Portable Files\apache-maven-3.8.8<br></code></pre></td></tr></table></figure><p><code>系统变量</code>中编辑<code>Path</code>变量，新建<code>%MAVEN_HOME%\bin</code></p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs txt">%MAVEN_HOME%\bin<br></code></pre></td></tr></table></figure><p>配置完成后运行CMD命令<code>mvn -v</code>查看Maven版本</p><h4 id="配置本地仓库"><a href="#配置本地仓库" class="headerlink" title="配置本地仓库"></a>配置本地仓库</h4><p>在Maven目录中编辑<code>/conf/settings.xml</code>配置文件</p><p>配置本地仓库地址：在<code>&lt;settings&gt;</code>标签下添加如下配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 配置仓库地址 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">localRepository</span>&gt;</span>D:\ProgramData\maven-repository<span class="hljs-tag">&lt;/<span class="hljs-name">localRepository</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="配置国内镜像"><a href="#配置国内镜像" class="headerlink" title="配置国内镜像"></a>配置国内镜像</h4><p>由于默认的Maven仓库服务器在国外，访问速度比较慢，更新依赖库很慢，甚至连不上，所以这里建议使用国内的镜像仓库：<a href="https://developer.aliyun.com/mvn/guide">阿里云云效Maven</a>。</p><p>配置国内镜像：在<code>&lt;mirrors&gt;</code>标签下添加如下配置，注释原<code>&lt;mirror&gt;</code>配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 注释默认配置</span><br><span class="hljs-comment">&lt;mirror&gt;</span><br><span class="hljs-comment">  &lt;id&gt;maven-default-http-blocker&lt;/id&gt;</span><br><span class="hljs-comment">  &lt;mirrorOf&gt;external:http:*&lt;/mirrorOf&gt;</span><br><span class="hljs-comment">  &lt;name&gt;Pseudo repository to mirror external repositories initially using HTTP.&lt;/name&gt;</span><br><span class="hljs-comment">  &lt;url&gt;http://0.0.0.0/&lt;/url&gt;</span><br><span class="hljs-comment">  &lt;blocked&gt;true&lt;/blocked&gt;</span><br><span class="hljs-comment">&lt;/mirror&gt;</span><br><span class="hljs-comment">--&gt;</span><br><br><span class="hljs-comment">&lt;!-- 阿里云公共仓库 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>aliyunmaven<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>*<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>阿里云公共仓库<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://maven.aliyun.com/repository/public<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h3><p>官网：<a href="https://nodejs.org/zh-cn">Node.js</a></p><p>如果只需要运行一个版本的<code>Node.js</code>，可以直接在官网下载安装。</p><p>鉴于不同项目需要使用不同版本的<code>Node.js</code>，下面介绍一个<code>Node.js</code>版本管理工具<code>NVM</code>的安装方法。使用<code>NVM</code>需要先卸载已经的<code>Node.js</code>版本。</p><h4 id="安装NVM"><a href="#安装NVM" class="headerlink" title="安装NVM"></a>安装NVM</h4><p>GitHub：<a href="https://github.com/coreybutler/nvm-windows">nvm-windows</a></p><p>NVM中文网：<a href="https://nvm.uihtm.com/">NVM中文网</a></p><p><code>NVM</code>是是一个<code>Node.js</code>的版本管理工具。为了解决<code>Node.js</code>各种版本存在不兼容现象可以通过它可以安装和切换不同版本的node.js。</p><p>下载对应版本安装，例：<a href="https://github.com/coreybutler/nvm-windows/releases/download/1.1.12/nvm-setup.exe">nvm-setup-1.1.12.exe</a></p><p>选择NVM安装路径：<code>D:\Program Files\NVM\nvm</code></p><p>选择Nodejs安装路径：<code>D:\Program Files\NVM\nodejs</code></p><p>NVM常用命令：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sh">nvm -v                       <span class="hljs-comment"># 查看 nvm 版本</span><br>nvm list available           <span class="hljs-comment"># 查看可下载的 nodejs 版本</span><br>nvm install [nodejs版本号]    <span class="hljs-comment"># 下载指定版本 nodejs</span><br>nvm uninstall [nodejs版本号]  <span class="hljs-comment"># 卸载指定版本 nodejs</span><br>nvm list                     <span class="hljs-comment"># 查看已下载的 nodejs 版本</span><br>nvm use [nodejs版本号]        <span class="hljs-comment"># 切换当前使用 nodejs 版本</span><br><br>nvm node_mirror [url]        <span class="hljs-comment"># 设置node镜像。默认是https://nodejs.org/dist/。如果不写url，则使用默认url。设置后可至安装目录settings.txt文件查看，也可直接在该文件操作。</span><br>nvm npm_mirror [url]         <span class="hljs-comment"># 设置npm镜像。默认是https://github.com/npm/cli/archive/。如果不写url，则使用默认url。设置后可至安装目录settings.txt文件查看，也可直接在该文件操作。</span><br></code></pre></td></tr></table></figure><p>可在官网查看具体版本：<a href="https://nodejs.org/zh-cn/about/previous-releases">Node.js 版本</a></p><p>官方推荐安装Node偶数版本。偶数版本（10，12等）是稳定版本（长期支持版），奇数版本（9，11等）是开发版本。</p><h4 id="NVM配置"><a href="#NVM配置" class="headerlink" title="NVM配置"></a>NVM配置</h4><p>如果下载node过慢或者安装失败，请更换国内淘宝镜像。</p><p>打开NVM安装目录下的<code>settings.txt</code>文件，添加以下内容：</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs txt">node_mirror: https://npmmirror.com/mirrors/node/<br>npm_mirror: https://npmmirror.com/mirrors/npm/<br></code></pre></td></tr></table></figure><h4 id="NPM配置"><a href="#NPM配置" class="headerlink" title="NPM配置"></a>NPM配置</h4><p>安装Node成功后会自动安装NPM</p><p>修改npm镜像为淘宝镜像</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm config <span class="hljs-built_in">set</span> registry https://registry.npmmirror.com/<br></code></pre></td></tr></table></figure><p>配置全局安装的模块路径和缓存路径，在<code>NVM目录</code>创建两个文件夹<code>node_global</code>和<code>node_cache</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm config <span class="hljs-built_in">set</span> prefix <span class="hljs-string">&quot;D:\Program Files\NVM\node_global&quot;</span><br>npm config <span class="hljs-built_in">set</span> cache <span class="hljs-string">&quot;D:\Program Files\NVM\node_cache&quot;</span><br></code></pre></td></tr></table></figure><p>查看npm所有配置，检查以上配置是否生效</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm config list<br></code></pre></td></tr></table></figure><h4 id="配置环境变量-2"><a href="#配置环境变量-2" class="headerlink" title="配置环境变量"></a>配置环境变量</h4><p><code>系统变量</code>新建<code>NODE_PATH</code></p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs txt">变量名：NODE_PATH<br>变量值：D:\Program Files\NVM\node_global\node_modules<br></code></pre></td></tr></table></figure><p><code>系统变量</code>中编辑<code>Path</code>变量，新建<code>D:\Program Files\NVM\node_global</code></p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs txt">D:\Program Files\NVM\node_global<br></code></pre></td></tr></table></figure><p>参考资料：</p><p><a href="https://juejin.cn/post/7369027991442030643">使用nvm管理node多版本（安装、卸载nvm，配置环境变量，更换npm淘宝镜像）基于 windows环境 使用nvm安 - 掘金 (juejin.cn)</a></p><h3 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h3><h4 id="下载-2"><a href="#下载-2" class="headerlink" title="下载"></a>下载</h4><p>官网下载：<a href="https://dev.mysql.com/downloads/installer/">下载 MySQL 安装程序</a></p><p>选择离线安装包下载，例：<a href="https://dev.mysql.com/get/Downloads/MySQLInstaller/mysql-installer-community-8.0.39.0.msi">mysql-installer-community-8.0.39.0.msi</a></p><h4 id="安装-2"><a href="#安装-2" class="headerlink" title="安装"></a>安装</h4><p>运行安装包</p><p>下一步<code>Choosing a Setup Type</code>选择安装类型，建议使用<code>Server only</code>仅服务器或者<code>Custom</code>自定义，只有<code>Custom</code>才能修改安装目录，这里选择<code>Custom</code>自定义路径安装</p><p>下一步<code>Select Products</code>选择产品，添加<code>MySQL Server 8.0.39 - X64</code>，选中后点击下方的<code>Advanced Options</code>高级选项，修改<code>Install Directory</code>安装目录和<code>Data Directory</code>数据目录到D盘</p><ul><li><p>Install Directory：<code>D:\Program Files\MySQL\MySQL Server 8.0</code></p></li><li><p>Data Directory：<code>D:\ProgramData\MySQL\MySQL Server 8.0</code></p></li></ul><p>下一步<code>Installation</code>安装，点击<code>Execute</code>执行</p><p>下一步<code>Type and Netorking</code>类型和网络，建议使用默认设置</p><p>下一步<code>Authentication Method</code>身份验证方法，MySQL8.X建议使用第一种强密码加密模式，如果无法更新应用程序以支持此新身份验证方法，可以配置为使用MySQL5.X的旧身份验证方法</p><p>下一步<code>Accounts and Roles</code>账号和角色，设置数据库密码</p><p>下一步<code>Windows Service</code>Windows服务，建议使用默认设置</p><p>下一步<code>Server File Permissions</code>服务器文件权限，建议选择<code>No, I will manage the permissions after the server configuration</code></p><p>下一步<code>Apply Configuration</code>应用配置，点击<code>Execute</code>执行</p><p>点击<code>Finish</code>完成安装</p><h4 id="配置环境变量-3"><a href="#配置环境变量-3" class="headerlink" title="配置环境变量"></a>配置环境变量</h4><p><code>系统变量</code>新建<code>MYSQL_HOME</code></p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs txt">变量名：MYSQL_HOME<br>变量值：D:\Program Files\MySQL\MySQL Server 8.0<br></code></pre></td></tr></table></figure><p><code>系统变量</code>中编辑<code>Path</code>变量，新建<code>%MYSQL_HOME%\bin</code></p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs txt">%MYSQL_HOME%\bin<br></code></pre></td></tr></table></figure><h4 id="验证安装"><a href="#验证安装" class="headerlink" title="验证安装"></a>验证安装</h4><p>在<code>CMD</code>中运行命令<code>mysql -uroot -p</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">mysql -uroot -p<br></code></pre></td></tr></table></figure><p>回车后提示<code>Enter password</code>输入密码，输入密码后回车</p><p>提示<code>Welcome to the MySQL monitor.</code>登录成功</p><p>输入<code>select version();</code>查看数据库版本</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> version();<br></code></pre></td></tr></table></figure><p>参考资料：</p><p><a href="https://www.cnblogs.com/tusens/p/18162502">【mysql】mysql安装使用教程 - 小李努力工作中 - 博客园 (cnblogs.com)</a></p><h3 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h3><h4 id="下载-3"><a href="#下载-3" class="headerlink" title="下载"></a>下载</h4><p>官网：<a href="https://redis.io/">Redis</a></p><p>官方不支持Windows版本，推荐第三方：<a href="https://github.com/tporadowski/redis">GitHub - tporadowski&#x2F;redis</a></p><p>选择安装包下载，例：<a href="https://github.com/tporadowski/redis/releases/download/v5.0.14.1/Redis-x64-5.0.14.1.msi">Redis-x64-5.0.14.1.msi</a></p><p>根据需求选择ZIP压缩包或MSI安装包安装。ZIP压缩包【需要手动解压、初始化、配置和安装服务，更灵活适合高级用户】，MSI安装包【自动安装，有安装向导，更简单适合初级用户】。</p><h4 id="安装-3"><a href="#安装-3" class="headerlink" title="安装"></a>安装</h4><p>运行安装包</p><p>下一步<code>Destination Folder</code>选择安装路径：<code>D:\Program Files\Redis\</code></p><p><code>Add the Redis installation folder to the PATH environment variable</code>将Redis安装文件夹添加到PATH环境变量中，建议勾选</p><p>下一步<code>Port Number and Firewall Exception</code>端口号和防火墙，建议使用默认设置</p><p>下一步<code>Memory Limit</code>内存限制，建议使用默认设置，可以在配置文件中修改</p><p>下一步<code>Install</code>安装</p><p>点击<code>Finish</code>完成安装</p><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>进入安装目录<code>D:\Program Files\Redis\</code>，打开配置文件<code>redis.windows-service.conf</code></p><blockquote><p>Redis有两个配置文件，<code>redis.windows.conf</code>是命令启动的默认配置文件，<code>redis.windows-service.conf</code>是服务启动的默认配置文件</p></blockquote><p>设置密码</p><p>搜索<code>requirepass foobared</code>，在下面添加一行<code>requirepass 123456</code>，<code>123456</code>即为<code>Redis</code>密码</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs txt">requirepass 123456<br></code></pre></td></tr></table></figure><p>参考资料：</p><p><a href="https://www.cnblogs.com/hnzhengfy/p/Database_redisconfig.html">Redis 的安装与配置详解【Redis系列一】 - 橙子家 - 博客园 (cnblogs.com)</a></p><p><a href="https://blog.csdn.net/qq_41918107/article/details/138145358">Redis 安装及配置教程（Windows）【安装】_windows 安装redis-CSDN博客</a></p><h3 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h3><h4 id="下载-4"><a href="#下载-4" class="headerlink" title="下载"></a>下载</h4><p>官网下载：<a href="https://git-scm.com/download">Git - Downloads</a></p><p>下载安装包，例：<a href="https://github.com/git-for-windows/git/releases/download/v2.46.0.windows.1/Git-2.46.0-64-bit.exe">Git-2.46.0-64-bit.exe</a></p><h4 id="安装-4"><a href="#安装-4" class="headerlink" title="安装"></a>安装</h4><p>运行安装包安装软件</p><p>下一步<code>Select Destination Location</code>选择安装目录，<code>D:\Program Files\Git</code></p><p>下一步<code>Select Components</code>选择安装组件，建议使用默认设置</p><p>下一步<code>Choosing the default editor used by Git</code>选择默认编辑器，建议使用默认设置</p><p>下一步<code>Adjusting the name of the initial branch in new repositories</code>修改默认分支名称，建议使用<code>main</code></p><p>下一步<code>Adjusting your PATH environment</code>调整环境变量，建议使用默认设置</p><p>下一步<code>Choosing the SSH executable</code>选择SSH可执行文件，建议使用默认设置</p><p>下一步<code>Choosing HTTPS transport backend</code>选择HTTPS后端传输，建议使用默认设置</p><p>下一步<code>Configuring the line ending conversions</code>配置行尾结束符，建议使用默认设置</p><p>下一步<code>Configuring the terminal emulator to use with Git Bash</code>配置终端模拟器，建议使用默认设置</p><p>下一步<code>Choose the default behavior of &#39;git pull&#39;</code>选择<code>git pull</code>默认合并行为，建议使用默认设置</p><p>下一步<code>Choose a credential helper</code>选择凭证助手，建议使用默认设置</p><p>下一步<code>Configuring extra options</code>配置额外选项，建议使用默认设置</p><p>下一步<code>Configuring experimental options</code>配置实验选项，建议使用默认设置</p><p>点击<code>Finish</code>完成安装</p><p>安装成功后运行<code>git -v</code>命令查看Git版本信息</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git -v<br></code></pre></td></tr></table></figure><h4 id="汉化"><a href="#汉化" class="headerlink" title="汉化"></a>汉化</h4><p><strong>Git Bash汉化</strong></p><p>在桌面鼠标右键，点击<code>Open Git Bash here</code></p><p>在<code>Git Bash</code>右键，点击<code>Options</code></p><p>进入<code>Options</code>选择<code>Window</code>菜单，在<code>UI language</code>中选择<code>zh_CN</code></p><p>重新打开已成功设置为中文</p><p><strong>Git Gui汉化</strong></p><p>Git Gui汉化仓库：<a href="https://github.com/stayor/git-gui-zh">GitHub - stayor&#x2F;git-gui-zh</a></p><p>下载汉化包：<a href="https://codeload.github.com/stayor/git-gui-zh/zip/refs/heads/master">https://codeload.github.com/stayor/git-gui-zh/zip/refs/heads/master</a></p><p>在<code>Git</code>安装目录下<code>\mingw64\share\git-gui\lib</code>下新建一个<code>msgs</code>文件夹</p><p>将下载的汉化包解压后放到<code>msgs</code>目录下即可</p><p>重新打开已成功设置为中文</p><h4 id="配置用户名邮箱"><a href="#配置用户名邮箱" class="headerlink" title="配置用户名邮箱"></a>配置用户名邮箱</h4><p>配置<code>用户名</code>及<code>邮箱</code>，在本地提交代码时会记录，可以不配置，建议配置用户名</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">git config --global user.name <span class="hljs-string">&quot;GitHub用户名&quot;</span><br>git config --global user.email <span class="hljs-string">&quot;GitHub邮箱&quot;</span><br></code></pre></td></tr></table></figure><p>查看配置列表</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git config --list<br></code></pre></td></tr></table></figure><h4 id="配置SSH密钥"><a href="#配置SSH密钥" class="headerlink" title="配置SSH密钥"></a>配置SSH密钥</h4><p><strong>生成密钥</strong></p><p>在GitHub中拉取上传代码需要用到<code>SSH密钥</code></p><p>官网说明：<a href="https://docs.github.com/zh/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">生成新的 SSH 密钥并将其添加到 ssh-agent - GitHub 文档</a></p><p>执行命令生成<code>SSH密钥</code>，其中字符串<code>your_email@example.com</code>可以任意的填写或者不填，这个相当于注释。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">ssh-keygen -t ed25519 -C <span class="hljs-string">&quot;your_email@example.com&quot;</span><br><span class="hljs-comment"># 如果你使用的是不支持 Ed25519 算法的旧系统，请使用以下命令</span><br>ssh-keygen -t rsa -b 4096 -C <span class="hljs-string">&quot;your_email@example.com&quot;</span><br></code></pre></td></tr></table></figure><p><code>-t rsa</code> 指定生成RSA类型的密钥。</p><p><code>-b 4096</code> 指定密钥长度为4096位。</p><p><code>-C &quot;your_email@example.com&quot;</code> 用作标识。</p><p>执行命令后，系统会提示你输入保存密钥的路径，通常<code>默认位置</code>就可以，直接按<code>回车键</code>。系统会提示你输入密码（可选），如果不需要密码保护，可以直接按<code>回车键</code>。</p><p><strong>GitHub配置</strong></p><p>生成成功后，在<code>SSH密钥</code>生成目录打开公钥<code>C:\Users\用户名\.ssh\id_rsa.pub</code>，复制公钥</p><p>登录<code>GitHub</code>，点击左边的头像，点击<code>Settings</code>进入设置页面</p><p>进入<code>SSH and GPG keys</code>菜单，在<code>SSH keys</code>中点击<code>New SSH key</code>新建密钥</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs txt">Title：起一个方便管理的名称<br>Keytype：Authentication Key<br>Key：粘贴刚刚复制的公钥<br></code></pre></td></tr></table></figure><p>点击<code>Add SSH key</code>即可添加密钥</p><p><strong>验证SSH连接</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">ssh -T git@github.com<br></code></pre></td></tr></table></figure><p>提示输入<code>yes</code>再<code>回车</code></p><p>提示<code> You&#39;ve successfully authenticated</code>即表示验证通过</p><p>参考资料：</p><p><a href="https://blog.csdn.net/qq_45281589/article/details/134650456">Git安装教程（超详细）-CSDN博客</a></p><h3 id="IDEA"><a href="#IDEA" class="headerlink" title="IDEA"></a>IDEA</h3><h4 id="下载-5"><a href="#下载-5" class="headerlink" title="下载"></a>下载</h4><p>官网下载：<a href="https://www.jetbrains.com/zh-cn/idea/download/">下载 IntelliJ IDEA</a></p><p>选择安装包下载，例：<a href="https://download-cdn.jetbrains.com/idea/ideaIU-2024.2.1.exe">ideaIU-2024.2.1.exe</a></p><h4 id="安装-5"><a href="#安装-5" class="headerlink" title="安装"></a>安装</h4><p>运行安装包安装</p><p>下一步<code>选择安装位置</code>，修改安装目录：<code>D:\Program Files\JetBrains\IntelliJ IDEA</code></p><p>下一步<code>安装选项</code>，勾选<code>创建桌面快捷方式</code>中的<code>IntelliJ IDEA</code></p><p>下一步<code>选择开始菜单目录</code>，建议默认，点击<code>安装</code></p><p>下一步<code>安装程序结束</code>，取消勾选<code>运行 IntelliJ IDEA</code>，点击<code>完成</code></p><h4 id="激活"><a href="#激活" class="headerlink" title="激活"></a>激活</h4><p>下载激活脚本：<a href="/annex/JetBrains-%E5%85%A8%E5%AE%B6%E6%A1%B6%E6%BF%80%E6%B4%BB-2024.zip">JetBrains-全家桶激活-2024.zip</a></p><p>下载后解压，进入文件夹<code>JetBrains 全家桶激活（2024最新）\win2020-2024(一键激活)</code>，双击<code>IDEA激活.vbs</code>运行激活脚本，提示<code>Success!!! Now you can enjoy IntelliJIdea to 2099</code>则标识激活成功</p><p>打开<code>IDEA</code>，点击左下角<code>选项菜单</code>，点击<code>管理许可证</code>，查看激活状态：<code>有效期至：2099年12月31日</code></p><h4 id="插件推荐"><a href="#插件推荐" class="headerlink" title="插件推荐"></a>插件推荐</h4><ul><li>.ignore</li><li>Alibaba Java Coding Guidelines</li><li>camelBar</li><li>CamelCase</li><li>CodeGlance Pro</li><li>Extra ToolWindow Colorful Icons</li><li>JRebel and XRebel</li><li>MyBatis Log Free</li><li>MyBatisX</li><li>Nyan Progress Bar</li><li>Rainbow Brackets</li><li>SonarLint</li><li>Statistic</li><li>Translation</li></ul><h3 id="WebStorm"><a href="#WebStorm" class="headerlink" title="WebStorm"></a>WebStorm</h3><h4 id="下载-6"><a href="#下载-6" class="headerlink" title="下载"></a>下载</h4><p>官网下载：<a href="https://www.jetbrains.com/zh-cn/webstorm/download/">下载 WebStorm</a></p><p>选择安装包下载，例：<a href="https://download-cdn.jetbrains.com/webstorm/WebStorm-2024.2.1.exe">WebStorm-2024.2.1.exe</a></p><h4 id="安装-6"><a href="#安装-6" class="headerlink" title="安装"></a>安装</h4><p>运行安装包安装</p><p>下一步<code>选择安装位置</code>，修改安装目录：<code>D:\Program Files\JetBrains\WebStorm</code></p><p>下一步<code>安装选项</code>，勾选<code>创建桌面快捷方式</code>中的<code>WebStorm</code></p><p>下一步<code>选择开始菜单目录</code>，建议默认，点击<code>安装</code></p><p>下一步<code>安装程序结束</code>，取消勾选<code>运行 WebStorm</code>，点击<code>完成</code></p><h4 id="激活-1"><a href="#激活-1" class="headerlink" title="激活"></a>激活</h4><p>激活脚本与IDEA使用的相同，前面下载过就不用下载了：<a href="/annex/JetBrains-%E5%85%A8%E5%AE%B6%E6%A1%B6%E6%BF%80%E6%B4%BB-2024.zip">JetBrains-全家桶激活-2024.zip</a></p><p>下载后解压，进入文件夹<code>JetBrains 全家桶激活（2024最新）\win2020-2024(一键激活)</code>，双击<code>WebStorm激活.vbs</code>运行激活脚本，提示<code>Success!!! Now you can enjoy Webstorm to 2099</code>则标识激活成功</p><p>打开<code>Webstorm</code>，点击左下角<code>选项菜单</code>，点击<code>管理许可证</code>，查看激活状态：<code>有效期至：2099年12月31日</code></p><h4 id="插件推荐-1"><a href="#插件推荐-1" class="headerlink" title="插件推荐"></a>插件推荐</h4><ul><li>Alibaba Java Coding Guidelines</li><li>CodeGlance Pro</li><li>Extra ToolWindow Colorful Icons</li><li>Nyan Progress Bar</li><li>Rainbow Brackets</li><li>Translation</li><li>Uniapp Tool</li></ul><h3 id="Navicat"><a href="#Navicat" class="headerlink" title="Navicat"></a>Navicat</h3><h4 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a>下载安装</h4><p>官网下载：<a href="https://www.navicat.com.cn/download/navicat-premium">下载 Navicat Premium</a></p><p>下载64位安装包，例：<a href="https://www.navicat.com.cn/download/direct-download?product=navicat17_premium_cs_x64.exe&location=1">navicat17_premium_cs_x64.exe</a></p><p>运行安装包</p><p>下一步<code>选择安装文件夹</code>，修改目录：<code>D:\Program Files\PremiumSoft\Navicat Premium 17</code></p><p>点击<code>安装</code></p><p>安装完成不要运行，先激活之后再运行。</p><h4 id="激活-2"><a href="#激活-2" class="headerlink" title="激活"></a>激活</h4><p>16.2.x-17.0.x使用<code>注册机</code>激活，17.1.x使用<code>dll</code>激活</p><p>以17.1.0版本为例安装并激活</p><p>下载激活资源包：<a href="/annex/Navicat-Premium-17.1.x-%E6%BF%80%E6%B4%BB.zip">Navicat-Premium-17.1.x-激活.zip</a></p><p>杀毒软件可能报毒，忽略即可</p><p>下载后解压，进入文件夹解压<code>x64_Patch.zip</code>，将解压后的<code>winmm.dll</code>文件放置于<code>Navicat</code>安装目录下即可。</p><p>打开<code>Navicat</code>查看激活成功</p><p>参考资料：</p><p><a href="https://gitlab.com/ajiajishu/navicat-keygen-16V">xiaoJun &#x2F; Navicat Keygen 16V · GitLab</a></p><h3 id="MobaXterm"><a href="#MobaXterm" class="headerlink" title="MobaXterm"></a>MobaXterm</h3><h4 id="官网下载"><a href="#官网下载" class="headerlink" title="官网下载"></a>官网下载</h4><p>官网：<a href="https://mobaxterm.mobatek.net/download.html">MobaXterm</a></p><p>下载便携版压缩包，例：<a href="https://download.mobatek.net/2422024061715901/MobaXterm_Portable_v24.2.zip">MobaXterm_Portable_v24.2.zip</a></p><p>下载后解压，即可运行使用</p><h4 id="汉化-1"><a href="#汉化-1" class="headerlink" title="汉化"></a>汉化</h4><p>汉化地址：<a href="https://github.com/RipplePiam/MobaXterm-Chinese-Simplified">GitHub - RipplePiam&#x2F;MobaXterm-Chinese-Simplified: MobaXterm 简体中文汉化版</a></p><p>注意：该链接Chrome或者Edge浏览器打开的时候提示有安全风险，请自行决定是否使用！！！建议英文好的同学还是使用官方原版。</p><p>下载汉化版压缩包，例：<a href="https://github.com/RipplePiam/MobaXterm-Chinese-Simplified/releases/download/v0.24.2.96/MobaXterm_Portable_v24.2.zip">MobaXterm_Portable_v24.2_cn.zip</a></p><p>下载后解压，即可运行使用</p><h4 id="破解"><a href="#破解" class="headerlink" title="破解"></a>破解</h4><p>查看软件版本号：软件 - 菜单 - Help - About MobaXterm</p><p><strong>方法1</strong>：</p><p>某大佬的开源项目！需要本机安装Python3环境，然后直接运行命令即可！</p><p>开源地址：<a href="https://github.com/flygon2018/MobaXterm-keygen">https://github.com/flygon2018/MobaXterm-keygen</a></p><p><strong>方法2</strong>：</p><p>根据方法1的开源项目制作的一个在线生成激活文件的页面！</p><p>访问地址：<a href="https://51.ruyo.net/test/MobaXterm-Pro-License.html">https://51.ruyo.net/test/MobaXterm-Pro-License.html</a></p><p>开源项目：<a href="https://github.com/malaohu/MobaXterm-GenKey">https://github.com/malaohu/MobaXterm-GenKey</a></p><p>输入<code>用户名</code>，<code>软件版本号</code>，<code>授权数量</code>，然后<code>点击下载</code><br>将下载的激活文件放到<code>MobaXterm</code>的根目录，重启软件即可！</p><p>以<code>24.2</code>版本为例生成的激活文件：<a href="/annex/Custom.mxtpro">Custom.mxtpro</a></p><p><strong>方法3</strong>：</p><p>与方法2类似在线生成激活文件：<a href="https://www.geekery.cn/free-service/mobaxterm-crack.html">Mobaxterm破解 | 运维开发绿皮书 (geekery.cn)</a></p><p>参考资料：</p><p><a href="https://51.ruyo.net/17008.html">MobaXterm：Windows平台强大的终端，含在线生成专业版授权! - 如有乐享 (ruyo.net)</a></p><h3 id="Beyond-Compare"><a href="#Beyond-Compare" class="headerlink" title="Beyond Compare"></a>Beyond Compare</h3><h4 id="下载安装-1"><a href="#下载安装-1" class="headerlink" title="下载安装"></a>下载安装</h4><p>官网下载：<a href="https://www.navicat.com.cn/download/navicat-premium">下载 Navicat Premium</a></p><p>下载64位安装包，例：<a href="https://www.navicat.com.cn/download/direct-download?product=navicat17_premium_cs_x64.exe&location=1">navicat17_premium_cs_x64.exe</a></p><p>运行安装包</p><p>下一步<code>选择目标位置</code>，修改目录：<code>D:\Program Files\Beyond Compare 5</code></p><p>点击<code>安装</code></p><h4 id="破解-1"><a href="#破解-1" class="headerlink" title="破解"></a>破解</h4><p>使用脚本删除注册表实现无限试用期的破解方法</p><p>创建一个<code>bat</code>文件，保存以下代码。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">reg <span class="hljs-keyword">delete</span> <span class="hljs-string">&quot;HKEY_CURRENT_USER\Software\Scooter Software\Beyond Compare 5&quot;</span> <span class="hljs-regexp">/v CacheID /</span>f<br></code></pre></td></tr></table></figure><p>每次试用期快到期时，双击运行<code>bat</code>文件，即可重置30天试用期。</p><p>参考资料：</p><p><a href="https://blog.csdn.net/weixin_42723793/article/details/139522232">【Beyond Compare4正版破解方法（亲测有效）】_beyond compare 4-CSDN博客</a></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>JDK</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo + GitHub Pages 搭建个人博客</title>
    <link href="/2024/09/09/Hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/"/>
    <url>/2024/09/09/Hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="环境要求"><a href="#环境要求" class="headerlink" title="环境要求"></a>环境要求</h2><ul><li><a href="https://git-scm.com/download/win">Git</a>: 2.45.1+</li><li><a href="https://nodejs.org/zh-cn/download/">Node.js</a>: 16.20.2+</li></ul><p>基础环境安装请参考官网文档或网上教程</p><p>执行命令<code>git -v</code>验证Git版本</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git -v<br></code></pre></td></tr></table></figure><p>执行命令<code>node -v</code>验证Node.js版本</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">node -v<br></code></pre></td></tr></table></figure><h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p>官网：<a href="https://hexo.io/zh-cn/">Hexo</a></p><h3 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h3><p>执行命令<code>npm install -g hexo-cli</code>安装Hexo环境</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm install -g hexo-cli<br></code></pre></td></tr></table></figure><p>安装完成后执行命令<code>hexo -v</code>验证是否安装成功</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">hexo -v<br></code></pre></td></tr></table></figure><h3 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h3><p>执行命令<code>hexo init</code>初始化Hexo项目</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">hexo init hexo-blog-source<br></code></pre></td></tr></table></figure><p>执行命令后会自动创建以项目名<code>hexo-blog-source</code>命名的文件夹</p><p>进入项目目录执行命令安装相关依赖</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">cd</span> hexo-blog-source<br>npm install<br></code></pre></td></tr></table></figure><h3 id="运行项目"><a href="#运行项目" class="headerlink" title="运行项目"></a>运行项目</h3><p>执行命令<code>hexo server</code>运行Hexo项目</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">hexo server<br></code></pre></td></tr></table></figure><p>打开浏览器，输入地址：<a href="http://localhost:4000/">http://localhost:4000/</a> ，展示Hexo首页说明运行成功</p><h3 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h3><p>修改根目录下 <code>_config.yml</code> 配置文件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Site</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">Hexo</span>  <span class="hljs-comment"># 网站标题</span><br><span class="hljs-attr">subtitle:</span> <span class="hljs-string">&#x27;&#x27;</span>  <span class="hljs-comment"># 网站副标题</span><br><span class="hljs-attr">description:</span> <span class="hljs-string">&#x27;&#x27;</span>  <span class="hljs-comment"># 网站描述</span><br><span class="hljs-attr">keywords:</span>  <span class="hljs-comment"># 网站的关键词。 支持多个关键词。</span><br><span class="hljs-attr">author:</span> <span class="hljs-string">John</span> <span class="hljs-string">Doe</span>  <span class="hljs-comment"># 您的名字</span><br><span class="hljs-attr">language:</span> <span class="hljs-string">zh-CN</span>  <span class="hljs-comment"># 网站使用的语言。默认为 en，中国大陆地区可以使用 zh-CN</span><br><span class="hljs-attr">timezone:</span> <span class="hljs-string">Asia/Shanghai</span>  <span class="hljs-comment"># 网站时区。中国大陆地区可以使用 Asia/Shanghai</span><br><br><span class="hljs-comment"># URL</span><br><span class="hljs-attr">url:</span> <span class="hljs-string">http://example.com</span>  <span class="hljs-comment"># 网址, 必须以 http:// 或 https:// 开头</span><br><span class="hljs-attr">root:</span> <span class="hljs-string">/</span>  <span class="hljs-comment"># 网站根目录</span><br></code></pre></td></tr></table></figure><p>运行项目查看配置是否修改成功。</p><h3 id="新建文章"><a href="#新建文章" class="headerlink" title="新建文章"></a>新建文章</h3><p>如下修改 Hexo 博客目录中的 <code>_config.yml</code>，启用资源文件夹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">post_asset_folder:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># 启用资源文件夹 新建文章时生成一个同名的资源文件夹用于存放图片文件</span><br><span class="hljs-attr">marked:</span><br>  <span class="hljs-attr">prependRoot:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">postAsset:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><blockquote><p>启用资源文件夹后，资源图片将会被自动解析为其对应文章的路径。</p><p>例如：将<code>image.jpg</code> 图片存放在<code>source/_posts/</code>目录下的<code>文章同名文件夹</code>中，使用<code>![](image.jpg)</code> 即可直接引用图片。</p></blockquote><p>执行命令创建一篇新文章，名为《测试文章》</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">hexo new post 测试文章<br></code></pre></td></tr></table></figure><p>执行完成后在<code>source/_posts/</code>目录下生成了一个.md文件和一个同名的资源文件夹。</p><p>运行项目查看文章是否添加成功。</p><h2 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h2><p>官网主题：<a href="https://hexo.io/themes/">Hexo主题</a></p><p>推荐主题：<a href="https://github.com/fluid-dev/hexo-theme-fluid">Fluid</a>、<a href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></p><p>下面以Fluid为例演示更换主题步骤。</p><h3 id="下载主题"><a href="#下载主题" class="headerlink" title="下载主题"></a>下载主题</h3><h4 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h4><p>Hexo 5.0.0 版本以上，推荐通过 npm 直接安装</p><p>进入博客目录执行命令：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm install --save hexo-theme-fluid<br></code></pre></td></tr></table></figure><p>然后在博客根目录下创建 <code>_config.fluid.yml</code>配置文件，将主题的<a href="https://github.com/fluid-dev/hexo-theme-fluid/blob/master/_config.yml">_config.yml</a>内容复制过去。</p><p>或者将<code>/node_modules/hexo-theme-fluid/_config.yml</code>文件中的内容复制过去。</p><h4 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h4><p>下载 <a href="https://github.com/fluid-dev/hexo-theme-fluid/releases">Fluid 最新 release 版本</a> 解压到 themes 目录，并将解压出的文件夹重命名为 <code>fluid</code>。</p><h3 id="指定主题"><a href="#指定主题" class="headerlink" title="指定主题"></a>指定主题</h3><p>如下修改 Hexo 博客目录中的 <code>_config.yml</code>：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">theme:</span> <span class="hljs-string">fluid</span>  <span class="hljs-comment"># 指定主题</span><br><br><span class="hljs-attr">language:</span> <span class="hljs-string">zh-CN</span>  <span class="hljs-comment"># 指定语言，会影响主题显示的语言，按需修改</span><br></code></pre></td></tr></table></figure><h3 id="创建关于页"><a href="#创建关于页" class="headerlink" title="创建关于页"></a>创建关于页</h3><p>首次使用主题的「关于页」需要手动创建：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">hexo new page about<br></code></pre></td></tr></table></figure><p>创建成功后修改 <code>/source/about/index.md</code>，添加 <code>layout</code> 属性。</p><p>修改后的文件示例如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">about</span><br><span class="hljs-attr">layout:</span> <span class="hljs-string">about</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2024-09-09 10:00:00</span><br><span class="hljs-meta">---</span><br><span class="hljs-meta"></span><br><span class="hljs-string">这里写关于页的正文，支持</span> <span class="hljs-string">Markdown,</span> <span class="hljs-string">HTML</span><br></code></pre></td></tr></table></figure><blockquote><p><code>layout: about</code> 必须存在，并且不能修改成其他值，否则不会显示头像等样式。</p></blockquote><p>修改根目录下 <code>_config.fluid.yml</code> 中的 <code>about</code> 字段的名称和简介</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment">#---------------------------</span><br><span class="hljs-comment"># 关于页</span><br><span class="hljs-comment"># About Page</span><br><span class="hljs-comment">#---------------------------</span><br><span class="hljs-attr">about:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;Fluid&quot;</span><br>  <span class="hljs-attr">intro:</span> <span class="hljs-string">&quot;An elegant theme for Hexo&quot;</span><br></code></pre></td></tr></table></figure><p>重新运行Hexo项目查看主题效果。</p><h3 id="更新主题"><a href="#更新主题" class="headerlink" title="更新主题"></a>更新主题</h3><h4 id="方式一-1"><a href="#方式一-1" class="headerlink" title="方式一"></a>方式一</h4><p>适用于通过 Npm 安装主题</p><p>在博客目录下执行命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm update --save hexo-theme-fluid<br></code></pre></td></tr></table></figure><h4 id="方式二-1"><a href="#方式二-1" class="headerlink" title="方式二"></a>方式二</h4><p>适用于通过 Release 压缩包安装主题。</p><ol><li>先将原文件夹重命名为别的名称，例如 <code>fluid-bkp</code>，用于升级失败进行回退；</li><li>按照安装步骤，重新下载 <a href="https://github.com/fluid-dev/hexo-theme-fluid/releases">release</a>并解压重命名为 <code>fluid</code>；</li><li>如果某些配置发生了变化（改名或弃用），release 的说明里会特别提示，同步修改原配置文件即可。</li></ol><h3 id="修改网站标题"><a href="#修改网站标题" class="headerlink" title="修改网站标题"></a>修改网站标题</h3><p>修改根目录下 <code>_config.fluid.yml</code> 中的 <code>navbar.blog_title</code> 字段</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># 导航栏的相关配置</span><br><span class="hljs-attr">navbar:</span><br>  <span class="hljs-comment"># 导航栏左侧的标题，为空则按 hexo config 中 `title` 显示</span><br>  <span class="hljs-attr">blog_title:</span> <span class="hljs-string">&quot;Fluid&quot;</span><br></code></pre></td></tr></table></figure><h3 id="修改首页副标题"><a href="#修改首页副标题" class="headerlink" title="修改首页副标题"></a>修改首页副标题</h3><p>修改根目录下 <code>_config.fluid.yml</code> 中的 <code>slogan.text</code> 字段</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># 首页副标题的独立设置</span><br><span class="hljs-attr">slogan:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-comment"># 为空则按 hexo config.subtitle 显示</span><br>  <span class="hljs-attr">text:</span> <span class="hljs-string">&quot;An elegant Material-Design theme for Hexo&quot;</span><br></code></pre></td></tr></table></figure><h3 id="网站访问量统计"><a href="#网站访问量统计" class="headerlink" title="网站访问量统计"></a>网站访问量统计</h3><p>修改根目录下 <code>_config.fluid.yml</code> 中的 <code>footer.statistics.enable</code> 字段</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">footer:</span><br><br>  <span class="hljs-comment"># 展示网站的 PV、UV 统计数</span><br>  <span class="hljs-attr">statistics:</span><br>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br><br>    <span class="hljs-comment"># 统计数据来源，使用 leancloud, umami 需要设置 `web_analytics` 中对应的参数；使用 busuanzi 不需要额外设置，但是有时不稳定，另外本地运行时 busuanzi 显示统计数据很大属于正常现象，部署后会正常</span><br>    <span class="hljs-comment"># Options: busuanzi | leancloud | umami</span><br>    <span class="hljs-attr">source:</span> <span class="hljs-string">&quot;busuanzi&quot;</span><br></code></pre></td></tr></table></figure><h3 id="文章浏览量统计"><a href="#文章浏览量统计" class="headerlink" title="文章浏览量统计"></a>文章浏览量统计</h3><p>修改根目录下 <code>_config.fluid.yml</code> 中的 <code>post.meta.views.enable</code> 字段</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">post:</span><br>  <span class="hljs-comment"># 文章标题下方的元信息</span><br>  <span class="hljs-attr">meta:</span><br>    <span class="hljs-comment"># 浏览量计数</span><br>    <span class="hljs-attr">views:</span><br>      <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>      <span class="hljs-comment"># 统计数据来源</span><br>      <span class="hljs-comment"># Options: busuanzi | leancloud | umami</span><br>      <span class="hljs-attr">source:</span> <span class="hljs-string">&quot;busuanzi&quot;</span><br><br></code></pre></td></tr></table></figure><h3 id="文章更新时间"><a href="#文章更新时间" class="headerlink" title="文章更新时间"></a>文章更新时间</h3><p>修改根目录下 <code>_config.fluid.yml</code> 中的 <code>post.updated.enable</code> 字段</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">post:</span><br>  <span class="hljs-comment"># 在文章开头显示文章更新时间，该时间默认是 md 文件更新时间，可通过 front-matter 中 `updated` 手动指定（和 date 一样格式）</span><br>  <span class="hljs-attr">updated:</span><br>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><h3 id="背景全屏固定"><a href="#背景全屏固定" class="headerlink" title="背景全屏固定"></a>背景全屏固定</h3><h4 id="注入背景容器"><a href="#注入背景容器" class="headerlink" title="注入背景容器"></a>注入背景容器</h4><p>根目录下新建<code>scripts</code>文件夹，新建<code>injector.js</code>文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/*</span><br><span class="hljs-comment">    注入背景容器</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-keyword">const</span> &#123; <span class="hljs-attr">root</span>: siteRoot = <span class="hljs-string">&quot;/&quot;</span> &#125; = hexo.<span class="hljs-property">config</span>;<br>hexo.<span class="hljs-property">extend</span>.<span class="hljs-property">injector</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">&quot;body_begin&quot;</span>, <span class="hljs-string">`&lt;div id=&quot;web_bg&quot;&gt;&lt;/div&gt;`</span>);<br>hexo.<span class="hljs-property">extend</span>.<span class="hljs-property">injector</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">&quot;body_end&quot;</span>,<span class="hljs-string">`&lt;script src=&quot;<span class="hljs-subst">$&#123;siteRoot&#125;</span>js/backgroundize.js&quot;&gt;&lt;/script&gt;`</span>);<br></code></pre></td></tr></table></figure><p>不需要引用，hexo自动执行调用<code>scripts</code>目录里面的js文件。</p><h4 id="背景替换"><a href="#背景替换" class="headerlink" title="背景替换"></a>背景替换</h4><p><code>source/js</code>目录下新建<code>backgroundize.js</code>文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/*</span><br><span class="hljs-comment">    背景替换</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-variable language_">document</span><br>    .<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#web_bg&#x27;</span>)<br>    .<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;style&#x27;</span>, <span class="hljs-string">`background-image: <span class="hljs-subst">$&#123;<span class="hljs-variable language_">document</span>.querySelector(<span class="hljs-string">&#x27;.banner&#x27;</span>).style.background.split(<span class="hljs-string">&#x27; &#x27;</span>)[<span class="hljs-number">0</span>]&#125;</span>;position: fixed;width: 100%;height: 100%;z-index: -1;background-size: cover;`</span>);<br><br><span class="hljs-variable language_">document</span><br>    .<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#banner&quot;</span>)<br>    .<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;style&#x27;</span>, <span class="hljs-string">&#x27;background-image: url()&#x27;</span>)<br><br><span class="hljs-variable language_">document</span><br>    .<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#banner .mask&quot;</span>)<br>    .<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;style&#x27;</span>, <span class="hljs-string">&#x27;background-color:rgba(0,0,0,0)&#x27;</span>)<br></code></pre></td></tr></table></figure><p>这里被上面的<code>injector.js</code>文件调用了，所以不需要再到配置文件里面调用了。</p><h3 id="毛玻璃效果"><a href="#毛玻璃效果" class="headerlink" title="毛玻璃效果"></a>毛玻璃效果</h3><h4 id="透明背景"><a href="#透明背景" class="headerlink" title="透明背景"></a>透明背景</h4><p>根目录下<code>_config.fluid.yml</code>修改背景色为透明</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">color:</span><br>  <span class="hljs-comment"># 主面板背景色</span><br>  <span class="hljs-comment"># Color of main board</span><br>  <span class="hljs-attr">board_color:</span> <span class="hljs-string">&quot;#ffffff80&quot;</span><br>  <span class="hljs-attr">board_color_dark:</span> <span class="hljs-string">&quot;#00000080&quot;</span><br></code></pre></td></tr></table></figure><h4 id="毛玻璃滤镜"><a href="#毛玻璃滤镜" class="headerlink" title="毛玻璃滤镜"></a>毛玻璃滤镜</h4><p><code>source/css</code>目录下新建<code>cloudedGlass.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*</span><br><span class="hljs-comment">    毛玻璃滤镜</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-selector-id">#board</span> &#123;<br>    -webkit-backdrop-<span class="hljs-attribute">filter</span>: <span class="hljs-built_in">blur</span>(<span class="hljs-number">20px</span>);<br>    backdrop-<span class="hljs-attribute">filter</span>: <span class="hljs-built_in">blur</span>(<span class="hljs-number">20px</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p><code>_config.fluid.yml</code>引入</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># 指定自定义 .css 文件路径，用法和 custom_js 相同</span><br><span class="hljs-attr">custom_css:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">/css/cloudedGlass.css</span><br></code></pre></td></tr></table></figure><h3 id="代码块样式"><a href="#代码块样式" class="headerlink" title="代码块样式"></a>代码块样式</h3><h4 id="Mac边框样式"><a href="#Mac边框样式" class="headerlink" title="Mac边框样式"></a>Mac边框样式</h4><p>根目录下<code>source/css</code>目录中新建<code>macBorder.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*</span><br><span class="hljs-comment">    代码块修改Mac边框样式</span><br><span class="hljs-comment">    该方案基于&lt;table&gt;标签，所以务必把行号显示打开，且方案基于highlight.js高亮</span><br><span class="hljs-comment">    line_number: true</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-selector-class">.hljs-comment</span>, <span class="hljs-selector-class">.hljs-quote</span> &#123;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#ff6262</span>;<br>    <span class="hljs-attribute">font-family</span>: auto;<br>    <span class="hljs-attribute">font-style</span>: normal;<br>&#125;<br><br><span class="hljs-selector-tag">figure</span><span class="hljs-selector-class">.highlight</span> &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#838383</span>;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;<br>    <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">30px</span>;<br>    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">5px</span> <span class="hljs-number">10px</span> <span class="hljs-number">#a1a1a1</span>;<br>&#125;<br><br><span class="hljs-selector-attr">[data-user-color-scheme=<span class="hljs-string">&#x27;dark&#x27;</span>]</span> <span class="hljs-selector-tag">figure</span><span class="hljs-selector-class">.highlight</span> &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#000</span>;<br>&#125;<br><br><span class="hljs-comment">/* 该伪元素用于展示代码语言,若不需要可删除 */</span><br><span class="hljs-selector-tag">figure</span><span class="hljs-selector-class">.highlight</span><span class="hljs-selector-pseudo">::before</span> &#123;<br>    <span class="hljs-attribute">content</span>: <span class="hljs-built_in">attr</span>(data-type);<br>    <span class="hljs-attribute">z-index</span>: <span class="hljs-number">999</span>;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#ff8d33</span>;<br>    <span class="hljs-attribute">display</span>: block;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">2px</span>;<br>    <span class="hljs-attribute">text-align</span>: center;<br>    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">600</span>;<br>&#125;<br><br><span class="hljs-selector-tag">figure</span><span class="hljs-selector-class">.highlight</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#fc625d</span>;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">100%</span>;<br>    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">20px</span> <span class="hljs-number">0</span> <span class="hljs-number">#fdbc40</span>, <span class="hljs-number">40px</span> <span class="hljs-number">0</span> <span class="hljs-number">#35cd4b</span>;<br>    <span class="hljs-attribute">content</span>: <span class="hljs-string">&#x27;&#x27;</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">12px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">12px</span>;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">9px</span>;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">12px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.hljs</span> &#123;<br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#00000000</span>;<br>&#125;<br><br><span class="hljs-comment">/* 代码块颜色 */</span><br><span class="hljs-selector-tag">figure</span><span class="hljs-selector-class">.highlight</span> <span class="hljs-selector-tag">tr</span> &#123;<br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f9fffa</span>;<br>&#125;<br><br><span class="hljs-selector-attr">[data-user-color-scheme=<span class="hljs-string">&#x27;dark&#x27;</span>]</span> <span class="hljs-selector-class">.markdown-body</span> <span class="hljs-selector-tag">table</span> <span class="hljs-selector-tag">tr</span> &#123;<br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#25272d</span>;<br>&#125;<br><br><span class="hljs-selector-tag">figure</span><span class="hljs-selector-class">.highlight</span> &gt; <span class="hljs-selector-tag">table</span> &#123;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">5px</span> <span class="hljs-number">5px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.gutter</span> &#123;<br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f9fffa</span>;<br>&#125;<br><br><span class="hljs-selector-attr">[data-user-color-scheme=<span class="hljs-string">&#x27;dark&#x27;</span>]</span> <span class="hljs-selector-class">.gutter</span> &#123;<br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#25272d</span>;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>该方案基于table标签，所以务必把行号显示打开，且方案基于highlight.js高亮</p></blockquote><p>在<code>_fluid.config.yml</code>中引入</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># 代码块的增强配置</span><br><span class="hljs-attr">code:</span><br>    <span class="hljs-comment"># 代码块是否显示行号</span><br>    <span class="hljs-attr">line_number:</span> <span class="hljs-literal">true</span><br><br><span class="hljs-comment"># 指定自定义 .css 文件路径，用法和 custom_js 相同</span><br><span class="hljs-attr">custom_css:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">/css/cloudedGlass.css</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">/css/macBorder.css</span><br></code></pre></td></tr></table></figure><h4 id="显示代码语言"><a href="#显示代码语言" class="headerlink" title="显示代码语言"></a>显示代码语言</h4><p>根目录下<code>source/js</code>目录新建<code>macBorderCodeType.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/*</span><br><span class="hljs-comment">    代码块显示代码语言</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">languageStyle</span> = (<span class="hljs-params">str</span>) =&gt; &#123;<br>    <span class="hljs-comment">/* 单独优化 */</span><br>    <span class="hljs-keyword">if</span> ([<span class="hljs-string">&#x27;js&#x27;</span>, <span class="hljs-string">&#x27;javascript&#x27;</span>].<span class="hljs-title function_">includes</span>(str)) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;JavaScript&#x27;</span><br>    <span class="hljs-keyword">if</span> ([<span class="hljs-string">&#x27;ts&#x27;</span>, <span class="hljs-string">&#x27;typescript&#x27;</span>].<span class="hljs-title function_">includes</span>(str)) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;TypeScript&#x27;</span><br>    <span class="hljs-comment">/* 曲线救国(Highlight不支持vue) */</span><br>    <span class="hljs-keyword">if</span> (str === <span class="hljs-string">&#x27;xml&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Vue&#x27;</span><br><br>    <span class="hljs-comment">// return str</span><br>    <span class="hljs-comment">/* 全小写风格 */</span><br>    <span class="hljs-keyword">return</span> str.<span class="hljs-title function_">toUpperCase</span>()<br>    <span class="hljs-comment">/*全大写风格 */</span><br>    <span class="hljs-comment">// return str[0].toUpperCase() + str.substring(1)</span><br>    <span class="hljs-comment">/*首字母大写风格 */</span><br>&#125;<br><br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;figure.highlight&#x27;</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> &#123;<br>    item.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;data-type&#x27;</span>, <span class="hljs-title function_">languageStyle</span>(item.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&#x27;class&#x27;</span>).<span class="hljs-title function_">substring</span>(<span class="hljs-number">10</span>)))<br>&#125;)<br></code></pre></td></tr></table></figure><p>在<code>_fluid.config.yml</code>中引入</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># 指定自定义 .js 文件路径，支持列表；路径是相对 source 目录，如 /js/custom.js 对应存放目录 source/js/custom.js</span><br><span class="hljs-attr">custom_js:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">/js/macBorderCodeType.js</span><br></code></pre></td></tr></table></figure><h4 id="显示文件路径"><a href="#显示文件路径" class="headerlink" title="显示文件路径"></a>显示文件路径</h4><p>根目录下<code>source/css</code>目录中新建<code>macBorderCodePath.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*</span><br><span class="hljs-comment">    代码块显示文件路径</span><br><span class="hljs-comment">    使用方法：</span><br><span class="hljs-comment">    在代码块上一行添加添加：&lt;p class=&quot;file-path&quot;&gt;&lt;span&gt;路径&lt;/span&gt;&lt;/p&gt;</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.file-path</span> + <span class="hljs-selector-tag">figure</span><span class="hljs-selector-class">.highlight</span> &#123;<br>    <span class="hljs-attribute">border-top-left-radius</span>: <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.file-path</span> &#123;<br>    <span class="hljs-attribute">font-family</span>: 华文新魏,SSTXinwei;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#9ce159</span>;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#838383</span>;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">1.6rem</span>;<br>    <span class="hljs-attribute">margin-bottom</span>: -<span class="hljs-number">0.5rem</span>;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">0.2rem</span> <span class="hljs-number">0</span> <span class="hljs-number">0.2rem</span>;<br>    <span class="hljs-attribute">display</span>: inline-block;<br>    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">600</span>;<br>    <span class="hljs-attribute">position</span>: relative;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">1.5rem</span>;<br>    <span class="hljs-attribute">filter</span>: <span class="hljs-built_in">drop-shadow</span>(<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">#a1a1a1</span>);<br>&#125;<br><br><span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.file-path</span>&gt;<span class="hljs-selector-tag">span</span> &#123;<br>    <span class="hljs-attribute">display</span>: inline-block;<br>    <span class="hljs-attribute">white-space</span>: nowrap;<br>    <span class="hljs-attribute">overflow</span>: hidden;<br>    <span class="hljs-attribute">text-overflow</span>: ellipsis;<br>    <span class="hljs-attribute">direction</span>: rtl;<br>    <span class="hljs-attribute">text-align</span>: left;<br>    <span class="hljs-attribute">max-width</span>: <span class="hljs-number">500px</span>;<br>&#125;<br><br><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">768px</span>) &#123;<br>    <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.file-path</span>&gt;<span class="hljs-selector-tag">span</span> &#123;<br>        <span class="hljs-attribute">max-width</span>: <span class="hljs-number">300px</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">500px</span>) &#123;<br>    <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.file-path</span>&gt;<span class="hljs-selector-tag">span</span> &#123;<br>        <span class="hljs-attribute">max-width</span>: <span class="hljs-number">160px</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-selector-attr">[data-user-color-scheme=<span class="hljs-string">&#x27;dark&#x27;</span>]</span> <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.file-path</span> &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#000</span>;<br>&#125;<br><br><span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.file-path</span><span class="hljs-selector-pseudo">::before</span> &#123;<br>    <span class="hljs-attribute">content</span>: <span class="hljs-string">&#x27;🔖 Path:/&#x27;</span>;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#ff7e7e</span>;<br>    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">700</span>;<br>    <span class="hljs-attribute">position</span>: relative;<br>    <span class="hljs-attribute">top</span>: -<span class="hljs-number">0.4rem</span>;<br>&#125;<br><br><span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.file-path</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>    <span class="hljs-attribute">content</span>: <span class="hljs-string">&#x27;&#x27;</span>;<br>    <span class="hljs-attribute">display</span>: inline-block;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">border-width</span>: <span class="hljs-number">20px</span>;<br>    <span class="hljs-attribute">border-top</span>: <span class="hljs-number">0.8rem</span> solid <span class="hljs-number">#00000000</span>;<br>    <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">0.8rem</span> solid <span class="hljs-number">#00000000</span>;<br>    <span class="hljs-attribute">right</span>: -<span class="hljs-number">1.2rem</span>;<br>    <span class="hljs-attribute">border-left</span>: <span class="hljs-number">20px</span> solid <span class="hljs-number">#838383</span>;<br>&#125;<br><br><span class="hljs-selector-attr">[data-user-color-scheme=<span class="hljs-string">&#x27;dark&#x27;</span>]</span> <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.file-path</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>    <span class="hljs-attribute">border-left</span>: <span class="hljs-number">20px</span> solid <span class="hljs-number">#000</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>在<code>_fluid.config.yml</code>中引入</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># 指定自定义 .css 文件路径，用法和 custom_js 相同</span><br><span class="hljs-attr">custom_css:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">/css/cloudedGlass.css</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">/css/macBorder.css</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">/css/macBorderCodePath.css</span><br></code></pre></td></tr></table></figure><p>使用方法：在代码块上一行添加<code>&lt;p class=&quot;file-path&quot;&gt;&lt;span&gt;这里填写路径&lt;/span&gt;&lt;/p&gt;</code></p><p class="file-path"><span>这里填写路径</span></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;file-path&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>这里填写路径<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="评论功能"><a href="#评论功能" class="headerlink" title="评论功能"></a>评论功能</h3><p>Fluid主题支持的评论有很多，具体可以查看官网：<a href="https://hexo.fluid-dev.com/docs/guide/#%E8%AF%84%E8%AE%BA">Hexo Fluid 用户手册</a></p><p><a href="https://github.com/utterance/utterances">Utterances</a>是基于<code>GitHub Issues</code>的评论工具，评论时需要使用GitHub账号登录授权。</p><h4 id="创建评论仓库"><a href="#创建评论仓库" class="headerlink" title="创建评论仓库"></a>创建评论仓库</h4><p>创建存放comments的GitHub仓库，必须为Public，且可创建issue。</p><p>安装<a href="https://github.com/apps/utterances">utterances app</a>到刚刚创建的那个仓库。需要先登录GitHub账号才会显示<code>Install</code>按钮，未登陆时不会显示，已安装则显示的是<code>configure</code>按钮。</p><h4 id="配置评论功能"><a href="#配置评论功能" class="headerlink" title="配置评论功能"></a>配置评论功能</h4><p>在<code>_fluid.config.yml</code>中开启评论</p><p>修改根目录下 <code>_config.fluid.yml</code> 中的 <code>post.comments</code> 字段，开启评论功能</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">post:</span><br>  <span class="hljs-comment"># 评论插件</span><br>  <span class="hljs-attr">comments:</span><br>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">utterances</span><br></code></pre></td></tr></table></figure><p>修改根目录下 <code>_config.fluid.yml</code> 中的 <code>utterances.repo</code> 字段，配置自己的仓库地址</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-meta"># Utterances</span><br><span class="hljs-symbol">utterances:</span><br><span class="hljs-symbol">  repo:</span> xxx/xxx <span class="hljs-meta"># 修改为自己的：GitHub账号名/仓库名</span><br></code></pre></td></tr></table></figure><p>重启即Hexo可以看到评论区</p><h2 id="GitHub自动部署"><a href="#GitHub自动部署" class="headerlink" title="GitHub自动部署"></a>GitHub自动部署</h2><p>官网：<a href="https://github.com/">GitHub</a></p><p>GitHub有两种部署方式：公开仓库和私有仓库</p><h3 id="公开仓库部署"><a href="#公开仓库部署" class="headerlink" title="公开仓库部署"></a>公开仓库部署</h3><p>对于源码没隐私要求的可以按照官网教程<a href="https://hexo.io/zh-cn/docs/github-pages">在 GitHub Pages 上部署 Hexo</a>的教程安装，适用于公开仓库，上传源码后使用<code>GitHub Actions</code>部署访问。</p><h3 id="私有仓库部署"><a href="#私有仓库部署" class="headerlink" title="私有仓库部署"></a>私有仓库部署</h3><p>鉴于隐私安全的考虑，希望将源码上传到私有仓库后部署，私用仓库是不能使用直接使用<code>GitHub Actions</code>部署访问的，所以除了私有源码仓库之外，还需要创建一个公开博客仓库。</p><h4 id="准备两个仓库"><a href="#准备两个仓库" class="headerlink" title="准备两个仓库"></a>准备两个仓库</h4><ul><li><p>博客源码 - 私有仓库：<code>hexo-blog-source</code></p></li><li><p>博客部署 - 公开仓库：<code>hexo-blog-deploy</code></p></li></ul><p>注意：如果安装了主题，并且是从GitHub上Clone下来的，那么主题文件夹中（比如themes&#x2F;fluid&#x2F;)会有名为<code>.git</code>的隐藏文件夹用于git同步，需要把它删除，因为我们备份到私有仓库的时候是把主题文件一起备份的（这样才能在自动化部署中保留主题），嵌套的git仓库会报错，当然删除以后就不能用<code>git pull</code>的方式更新主题了。</p><p>把本地的博客文件夹上传到<code>hexo</code>私有仓库，并保证<code>.gitignore</code>文件中包含以下几项，避免以前手动生成及部署过的文件也作为源文件上传：</p><ul><li>.deploy*&#x2F;</li><li>node_modules&#x2F;</li><li>public&#x2F;</li></ul><h4 id="上传源码"><a href="#上传源码" class="headerlink" title="上传源码"></a>上传源码</h4><p>在根目录打开<code>Git Bash</code></p><p>执行<code>git init</code>命令，初始化本地仓库</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git init<br></code></pre></td></tr></table></figure><p>执行<code>git remote add origin git@github.com:xxx/xxx.git</code>与自己的GitHub远程仓库关联</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git remote add origin git@github.com:xxx/xxx.git<br></code></pre></td></tr></table></figure><p>执行<code>git pull origin main --allow-unrelated-histories</code>命令，拉取远程仓库最新代码</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git pull origin main --allow-unrelated-histories<br></code></pre></td></tr></table></figure><p>执行<code>git add .</code>命令，将目录下所有文件添加到本地仓库</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git add .<br></code></pre></td></tr></table></figure><p>执行<code>git commit -m &quot;初始化仓库&quot;</code>命令，将添加的文件提交到本地仓库，<code>-m</code>后面的参数是提交描述</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git commit -m <span class="hljs-string">&quot;初始化仓库&quot;</span><br></code></pre></td></tr></table></figure><p>执行<code>git push -u origin main</code>命令，把文件推送到远程仓库</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git push -u origin main<br></code></pre></td></tr></table></figure><p>至此，已成功将本地代码上传到GitHub远程仓库</p><h4 id="配置密钥"><a href="#配置密钥" class="headerlink" title="配置密钥"></a>配置密钥</h4><p>GitHub有两种密钥：<code>Fine-grained personal access token</code>和<code>Personal access tokens (classic)</code>。GitHub 建议尽可能使用<code>Fine-grained personal access token</code>。</p><p>简单来说两种的区别：<code>Fine-grained</code>是细粒度令牌，每个令牌只能访问特定的存储库，特定的权限，且必须有到期日期。<code>Personal</code>没有时间限制，权限更大。具体区别可查看官网文档：<a href="https://docs.github.com/zh/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens">管理个人访问令牌 - GitHub 文档</a>。</p><p><strong>生成密钥：</strong></p><p>在<code>GitHub</code>主页点击右上角头像 -&gt; <code>Settings </code>-&gt; <code>Developer Settings</code> -&gt; <code>Personal access tokens</code> -&gt; <code>Fine-grained tokens</code> -&gt; <code>Generate new token</code>，随便起一个名字（例如仓库名），选择有效期（最长1年），选择<code>Only select repositories</code>，在<code>Select repositories</code>中选择公开部署仓库，在<code>Repository permissions</code>中选择<code>Read and write</code>权限：</p><ul><li>Actions</li><li>Commit statuse</li><li>Contents</li><li>Deployments</li><li>Pages</li><li>Pull requests</li><li>Workflows</li></ul><p>点击<code>Generate token</code>生成，复制秘钥，这个秘钥只显示一次，如果没有保存，重新生成一即可。</p><p><strong>设置秘钥：</strong></p><p>选择你备份源文件的私有仓库 -&gt; <code>Settings</code> -&gt; <code>Secrets and variables</code> -&gt; <code>Actions</code> -&gt; <code>New repository secret</code>，这里命名为<code>HEXO_DEPLOY_TOKEN</code>，把秘钥内容复制进去保存。</p><h4 id="创建GitHub-Actions脚本"><a href="#创建GitHub-Actions脚本" class="headerlink" title="创建GitHub Actions脚本"></a>创建GitHub Actions脚本</h4><p>创建一个<code>.github/workflows/pages.yml</code>文件(没有目录就先创建目录）</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Pages</span> <span class="hljs-comment">#脚本名称</span><br><br><span class="hljs-attr">on:</span> <span class="hljs-string">push</span> <span class="hljs-comment">#在push这个操作发生的时候执行脚本，也可以指定分支，默认main</span><br><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">pages:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span> <span class="hljs-comment">#虚拟环境</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span> <span class="hljs-comment">#uses指令就是用的其它的现成的脚本</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Use</span> <span class="hljs-string">Node.js</span> <span class="hljs-number">16.20</span><span class="hljs-number">.2</span> <span class="hljs-comment">#name只是提供一个名称</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v1</span><br>        <span class="hljs-attr">with:</span> <span class="hljs-comment">#可以用with提供参数信息</span><br>          <span class="hljs-attr">node-version:</span> <span class="hljs-string">&#x27;16.20.2&#x27;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Cache</span> <span class="hljs-string">NPM</span> <span class="hljs-string">dependencies</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/cache@v2</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">path:</span> <span class="hljs-string">node_modules</span><br>          <span class="hljs-attr">key:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">runner.OS</span> <span class="hljs-string">&#125;&#125;-npm-cache</span><br>          <span class="hljs-attr">restore-keys:</span> <span class="hljs-string">|</span><br><span class="hljs-string">            $&#123;&#123; runner.OS &#125;&#125;-npm-cache</span><br><span class="hljs-string"></span>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">Dependencies</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span><br><br>      <span class="hljs-comment">#上面的操作都是为了准备环境</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-comment">#生成</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">build</span> <span class="hljs-comment">#这里需要保证你博客根目录下的package.json文件中有这个脚本，没有的话添加一下&quot;build&quot;: &quot;hexo generate&quot;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">peaceiris/actions-gh-pages@v3</span> <span class="hljs-comment">#这是一个自动化部署到GitHub pages的脚本</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">personal_token:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.HEXO_DEPLOY_TOKEN</span> <span class="hljs-string">&#125;&#125;</span> <span class="hljs-comment">#HEXO_DEPLOY_TOKEN这个名称跟源文件仓库中设置的要对应</span><br>          <span class="hljs-attr">external_repository:</span> <span class="hljs-string">xxx/xxx</span>  <span class="hljs-comment">#添加部署的目标仓库，也就是GitHub.io对应的仓库，由&quot;用户名/仓库名&quot;的方式指定</span><br>          <span class="hljs-attr">publish_dir:</span> <span class="hljs-string">./public</span> <span class="hljs-comment">#需要发布的文件目录，hexo generate生成的就是./public</span><br>          <span class="hljs-attr">publish_branch:</span> <span class="hljs-string">main</span>  <span class="hljs-comment">#deploying branch部署的分支，对应我们的external_repository</span><br><br></code></pre></td></tr></table></figure><p>上面指令用注释进行了简单的说明，需要修改的几个地方：</p><ul><li><p>personal_token：如果设定的秘钥名称不是<code>HEXO_DEPLOY_TOKEN</code>，那么这里也需要修改</p></li><li><p>external_repository：改成你自己的部署静态文件公开仓库</p></li></ul><p>上传成功之后每次提交成功时<code>GitHub Actions</code>都会自动运行脚本，生成静态文件并部署到公开博客仓库。</p><h3 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h3><h4 id="购买域名"><a href="#购买域名" class="headerlink" title="购买域名"></a>购买域名</h4><p>常用域名购买平台</p><p>国内：阿里云、腾讯云</p><p>国外：GoDaddy、NameSilo、Namecheap、Spaceship</p><h4 id="配置DNS解析"><a href="#配置DNS解析" class="headerlink" title="配置DNS解析"></a>配置DNS解析</h4><p>以<code>Cloudflare</code>为例，登录账号进入主页</p><p>选择域名进入域名管理，点击<code>DNS</code>，点击<code>添加记录</code></p><p><code>类型</code>：选择<code>CNAME</code></p><p><code>名称</code>：填入<code>blog</code>（自定义二级域名）</p><p><code>目标</code>填入<code>xxx.github.io</code>（xxx修改为自己的github用户名）</p><p><code>代理状态</code>：勾选<code>开启</code></p><p>点击<code>保存</code>即可</p><h4 id="配置自定义域名"><a href="#配置自定义域名" class="headerlink" title="配置自定义域名"></a>配置自定义域名</h4><p>在根目录下<code>/source</code>目录中新增文件<code>CNAME</code>，注意文件没有后缀名，</p><p>在文件中输入<code>blog.xxx.xxx</code>（对应自定义域名），保存文件，上传到<code>GitHub</code>远程仓库</p><p>待部署完成即可使用自定义域名<code>blog.xxx.xxx</code>访问博客主页</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://hexo.io/zh-cn/docs/">Hexo 官方文档</a></p><p><a href="https://hexo.fluid-dev.com/docs/guide/">Hexo Fluid 用户手册</a></p><p><a href="https://blog.csdn.net/yaorongke/article/details/119089190">GitHub Pages + Hexo搭建个人博客网站，史上最全教程_hexo博客-CSDN博客</a></p><p><a href="https://qingshaner.com/Hexo%20Fluid%E4%B8%BB%E9%A2%98%E8%83%8C%E6%99%AF%E5%9B%BA%E5%AE%9A(ES6%E6%94%B9%E5%86%99%E7%89%88)%E4%B8%8E%E6%AF%9B%E7%8E%BB%E7%92%83%E5%BA%95%E9%A1%B5/">Hexo Fluid主题 背景固定与毛玻璃底页</a></p><p><a href="https://qingshaner.com/HexoFluid%E4%B8%BB%E9%A2%98%E4%BB%A3%E7%A0%81%E5%9D%97%E6%A0%B7%E5%BC%8F%E4%BF%AE%E6%94%B9/#%E4%BB%A3%E7%A0%81%E5%9D%97%E6%A0%B7%E5%BC%8F">Hexo Fluid主题 代码块样式修改</a></p><p><a href="https://www.cnblogs.com/guoapeng/p/17627621.html">Hexo博客添加评论功能 - eagle.supper - 博客园 (cnblogs.com)</a></p><p><a href="https://www.jianshu.com/p/785d727810b3">hexo-fluid添加utterances评论功能(详细图文过程) - 简书 (jianshu.com)</a></p><p><a href="https://www.fewth.com/%E7%94%A8github-actions%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B8%83%E7%BD%B2hexo%E5%8D%9A%E5%AE%A2-%E4%BB%8E%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93%E5%88%B0%E5%85%AC%E5%85%B1%E4%BB%93%E5%BA%93/">用github actions自动化布署hexo博客-从私有仓库到公共仓库 - A few thoughts</a></p><p><a href="https://www.cnblogs.com/jianghaonan0818/p/15365364.html">使用git把本地代码上传（更新）到github上</a></p><p><strong>免责声明：以上内容均来源于网络，如有侵权请联系删除</strong></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Fluid</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2024/09/07/hello-world/"/>
    <url>/2024/09/07/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
